<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=Df5kztZ3rOcLOonFN1rudtIxm6buhcdA"></script>
	    <script src="js/qrcode.js"></script>
	</head>
	<body>
		<script>
			//GPS坐标
			 const pointBak = new BMap.Point(123.432511, 41.703259);
			
			 const convertor = new BMap.Convertor();
			 
			 convertor.translate([pointBak],1,5,(res)=>{
				 
				  var lng = res.points[0].lng;
				  var lat = res.points[0].lat;
				  
				  alert(lng);
				  alert(lat);
				  
				  //通过程序得到经纬度所对应的位置
				  //创建百度地图的地
				  var point = new BMap.Point(lng, lat);
				  var geo = new BMap.Geocoder();	
				  
				  geo.getLocation(point,(res)=>{
					  
					  alert(res.surroundingPois[0].title);
					  
					  //位置信息发给服务端
					  
					  //根据服务器返回的信息生成二维码（text，colorDark）
					  var qrcode = new QRCode(document.getElementById("qrcode"), {
					      text: "个人信息",
					      width: 512,
					      height: 512,
					      colorDark : "green",
					      colorLight : "#ffffff",
					      correctLevel : QRCode.CorrectLevel.H
					  });
					  
				  })
				  
				 
			 })
			 
		</script>
	</body>
</html>
